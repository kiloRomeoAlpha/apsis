<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Running Apsis &mdash; Apsis v4.2.5 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '4.2.5',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Apsis v4.2.5 documentation" href="index.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="Preliminary steps" href="prelims.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="prelims.html" title="Preliminary steps"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Apsis v4.2.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="running-apsis">
<h1>Running Apsis<a class="headerlink" href="#running-apsis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="quickstart">
<h2>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h2>
<p><em>Apsis</em> is run from the command line as follows:</p>
<div class="highlight-python"><pre>apsis [options] &lt;dataset&gt;</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">[options]</span></tt> indicates one or more of the options listed below,
and <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> is the name of the dataset to be processed.</p>
<p><em>Apsis</em> looks for a directory named <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> off of the directory
referenced by the environment variable <strong>$INGEST</strong>.  The directory
<tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> should contain the ACS images (i.e. <tt class="docutils literal"><span class="pre">*_flt.fits</span></tt> files)
and association tables (<tt class="docutils literal"><span class="pre">*_asn.fits</span></tt>) which reference these images and
nothing else (see the <a class="reference external" href="prelims.html">Preliminary steps</a> section for more details).</p>
<p>Note: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> should not include a trailing slash, <tt class="docutils literal"><span class="pre">/</span></tt>, or
<em>Apsis</em> will crash.</p>
<p>The science products produced by <em>Apsis</em>, as well as a log file and XML
output, are written to a directory named <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> off of the
directory referenced by the environment variable <strong>$DATASETS</strong>.</p>
</div>
<div class="section" id="command-line-options">
<h2>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h2>
<p><em>General, and house-keeping options:</em></p>
<dl class="cmdoption">
<dt id="cmdoption--help">
<tt class="descname">--help</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--help" title="Permalink to this definition">¶</a></dt>
<dd>gives a quick summary of the command options.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--noXml">
<tt class="descname">--noXml</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--noXml" title="Permalink to this definition">¶</a></dt>
<dd>Do not do XML markup of data products.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--testonly">
<tt class="descname">--testonly</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--testonly" title="Permalink to this definition">¶</a></dt>
<dd>Test configuration; exit before directory build.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--debug">
<tt class="descname">--debug</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--debug" title="Permalink to this definition">¶</a></dt>
<dd>Print full traceback when an exception occurs.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--noclean">
<tt class="descname">--noclean</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--noclean" title="Permalink to this definition">¶</a></dt>
<dd>Intermediate drizzle products will not be deleted.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--justDriz">
<tt class="descname">--justDriz</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--justDriz" title="Permalink to this definition">¶</a></dt>
<dd>Will quit immediately after drizzling. Detection images and catalogs
will not be made.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--noContext">
<tt class="descname">--noContext</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--noContext" title="Permalink to this definition">¶</a></dt>
<dd>Will not produce context images in final drizzling.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--noGSC">
<tt class="descname">--noGSC</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--noGSC" title="Permalink to this definition">¶</a></dt>
<dd>Will not attempt to correct image WCS by webquery to GSC2.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--nocats">
<tt class="descname">--nocats</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--nocats" title="Permalink to this definition">¶</a></dt>
<dd>No catalogs should be produced for this pipeline run.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--OwnIraf">
<tt class="descname">--OwnIraf</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--OwnIraf" title="Permalink to this definition">¶</a></dt>
<dd>Use the login.cl file from the users environment.</dd></dl>

<p><em>Options directly related to alignment:</em></p>
<dl class="cmdoption">
<dt id="cmdoption--intRef">
<tt class="descname">--intRef</tt><tt class="descclassname">=&lt;im&gt;</tt><a class="headerlink" href="#cmdoption--intRef" title="Permalink to this definition">¶</a></dt>
<dd>Use fits file &lt;im&gt; in the dataset as reference image.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--extRef">
<tt class="descname">--extRef</tt><tt class="descclassname">=&lt;im&gt;</tt><a class="headerlink" href="#cmdoption--extRef" title="Permalink to this definition">¶</a></dt>
<dd>Use external fits file &lt;im&gt; as reference image.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--justgrism">
<tt class="descname">--justgrism</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--justgrism" title="Permalink to this definition">¶</a></dt>
<dd>This dataset will be aligned as a pure grism observation.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--starcluster">
<tt class="descname">--starcluster</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--starcluster" title="Permalink to this definition">¶</a></dt>
<dd>Uses the starcluster parameter set for alignment.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--alpixthr">
<tt class="descname">--alpixthr</tt><tt class="descclassname">=&lt;sig&gt;</tt><a class="headerlink" href="#cmdoption--alpixthr" title="Permalink to this definition">¶</a></dt>
<dd>Use this SExtractor detection threshold for align.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--notrot">
<tt class="descname">--notrot</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--notrot" title="Permalink to this definition">¶</a></dt>
<dd>Do not use rotation in transform found by &#8216;match&#8217; (use median shifts).</dd></dl>

<p><em>Options directly related to sky subtraction:</em></p>
<dl class="cmdoption">
<dt id="cmdoption--noAve">
<tt class="descname">--noAve</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--noAve" title="Permalink to this definition">¶</a></dt>
<dd>Extension averaging will <em>not</em> be done during sky subtraction.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--nosub">
<tt class="descname">--nosub</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--nosub" title="Permalink to this definition">¶</a></dt>
<dd>No sky subtraction will be done.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--minSky">
<tt class="descname">--minSky</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--minSky" title="Permalink to this definition">¶</a></dt>
<dd>Use minimum sky value from multi extension images.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--keepstep">
<tt class="descname">--keepstep</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--keepstep" title="Permalink to this definition">¶</a></dt>
<dd>Do not try to remove amplifier discontinuity for ACS/WFC.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--skyfile">
<tt class="descname">--skyfile</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--skyfile" title="Permalink to this definition">¶</a></dt>
<dd>Look for a default.skies file listing sky values.</dd></dl>

<p><em>Options related to detection image and catalogs:</em></p>
<dl class="cmdoption">
<dt id="cmdoption--excludefilt">
<tt class="descname">--excludefilt</tt><tt class="descclassname">=&lt;list&gt;</tt><a class="headerlink" href="#cmdoption--excludefilt" title="Permalink to this definition">¶</a></dt>
<dd>CSV list of filters which will not be included in the detection
image.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--richfield">
<tt class="descname">--richfield</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--richfield" title="Permalink to this definition">¶</a></dt>
<dd>Use rich (galaxy cluster) field deblend parameters.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--notrim">
<tt class="descname">--notrim</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--notrim" title="Permalink to this definition">¶</a></dt>
<dd>Do not trim detection weight where Nim=1.</dd></dl>

<p><em>Options related to geometric distortion:</em></p>
<dl class="cmdoption">
<dt id="cmdoption--idctab">
<tt class="descname">--idctab</tt><tt class="descclassname">=&lt;file&gt;</tt><a class="headerlink" href="#cmdoption--idctab" title="Permalink to this definition">¶</a></dt>
<dd>Use fits IDC table &lt;file&gt; instead of IDCTAB from header.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--dfilt">
<tt class="descname">--dfilt</tt><tt class="descclassname">=&lt;filt&gt;</tt><a class="headerlink" href="#cmdoption--dfilt" title="Permalink to this definition">¶</a></dt>
<dd>Use the distortion model in the IDCTAB for this filter. (Currently
disabled)</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--dr_asecpix">
<tt class="descname">--dr_asecpix</tt><tt class="descclassname">=&lt;outscale&gt;</tt><a class="headerlink" href="#cmdoption--dr_asecpix" title="Permalink to this definition">¶</a></dt>
<dd>Pixel scale of final drizzled image (arcsec/pix).</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--dr_pixfrac">
<tt class="descname">--dr_pixfrac</tt><tt class="descclassname">=&lt;pixfrac&gt;</tt><a class="headerlink" href="#cmdoption--dr_pixfrac" title="Permalink to this definition">¶</a></dt>
<dd>Drizzle pixel fraction (&#8220;dropsize&#8221;) parameter used for final drizzling.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--dr_kernel">
<tt class="descname">--dr_kernel</tt><tt class="descclassname">=&lt;kernel&gt;</tt><a class="headerlink" href="#cmdoption--dr_kernel" title="Permalink to this definition">¶</a></dt>
<dd>Drizzle kernel (square|point|turbo|tophat|lanczos2|lanczos3|gaussian).</dd></dl>

<p><em>Options controlling the output image size</em></p>
<dl class="cmdoption">
<dt id="cmdoption--padfac">
<tt class="descname">--padfac</tt><tt class="descclassname">=&lt;f&gt;</tt><a class="headerlink" href="#cmdoption--padfac" title="Permalink to this definition">¶</a></dt>
<dd>Pad linear output size by this factor.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--outsize">
<tt class="descname">--outsize</tt><tt class="descclassname">=&lt;nx&gt;,&lt;ny&gt;</tt><a class="headerlink" href="#cmdoption--outsize" title="Permalink to this definition">¶</a></dt>
<dd>Use this output &lt;nx&gt;,&lt;ny&gt; <em>pixel</em> (CSV) image size.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--outshift">
<tt class="descname">--outshift</tt><tt class="descclassname">=&lt;dx&gt;,&lt;dy&gt;</tt><a class="headerlink" href="#cmdoption--outshift" title="Permalink to this definition">¶</a></dt>
<dd>Apply these overall &lt;dx&gt;,&lt;dy&gt; <em>arcsec</em> shifts (CSV) in output frame.</dd></dl>

<p><em>Options related to CRs and bad pixel rejection:</em></p>
<dl class="cmdoption">
<dt id="cmdoption--crlower">
<tt class="descname">--crlower</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--crlower" title="Permalink to this definition">¶</a></dt>
<dd>Use dangerously low driz_cr rejection thresholds.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--noCRreject">
<tt class="descname">--noCRreject</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--noCRreject" title="Permalink to this definition">¶</a></dt>
<dd>Do not reject cosmic rays (1-pass drizzling).</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--keepbits">
<tt class="descname">--keepbits</tt><tt class="descclassname">=&lt;bits&gt;</tt><a class="headerlink" href="#cmdoption--keepbits" title="Permalink to this definition">¶</a></dt>
<dd>Sum of pixel data quality flags to keep during drizzle.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--smartstack">
<tt class="descname">--smartstack</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--smartstack" title="Permalink to this definition">¶</a></dt>
<dd>Use optimal median stacking during drizzle.</dd></dl>

<dl class="cmdoption">
<dt id="cmdoption--mask">
<tt class="descname">--mask</tt><tt class="descclassname">=&lt;mask_file&gt;</tt><a class="headerlink" href="#cmdoption--mask" title="Permalink to this definition">¶</a></dt>
<dd>Explicitly mask out specific regions in certain input files.</dd></dl>

</div>
<div class="section" id="output-directory-structure-and-files">
<h2>Output directory structure and files<a class="headerlink" href="#output-directory-structure-and-files" title="Permalink to this headline">¶</a></h2>
<p><em>Apsis</em> writes a series of output files to the <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> directory
it creates off of the directory specified by the <strong>$DATASETS</strong> environment
variable.</p>
<div class="section" id="main-directory">
<h3>Main directory<a class="headerlink" href="#main-directory" title="Permalink to this headline">¶</a></h3>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt>.</p>
<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_proc.log</tt></dt>
<dd><em>Apsis</em> process log file.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_runMessage.xml</tt></dt>
<dd>This file lists, in XML format, the modules used, input data files
and output data files, as well as meta data on when the process was
run and by whom.</dd></dl>

<div class="section" id="catalogs">
<h4>Catalogs<a class="headerlink" href="#catalogs" title="Permalink to this headline">¶</a></h4>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/Catalogs</span></tt>.</p>
<p>This directory contains plain ASCII format catalogs made by
<em>SExtractor</em>, the same catalogs modified by <em>Apsis</em>, and catalogs marked up in XML.  In general,
files ending with a suffix <tt class="docutils literal"><span class="pre">.cat.old</span></tt> are made directly by
<em>SExtractor</em>; files with a <tt class="docutils literal"><span class="pre">.cat</span></tt> suffix are modified SExtractor
catalogs; and files with a <tt class="docutils literal"><span class="pre">.xml</span></tt> suffix are XML marked-up version of
the .cat files.</p>
<dl class="cmdoption">
<dt>
<tt class="descname">detectionImage.cat  (.xml)</tt></dt>
<dd><em>SExtractor</em> catalog of the detection image, modified by <em>Apsis</em>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_drz_sci.cat   (.xml, .old.cat)</tt></dt>
<dd>Catalog of each filter image created by running <em>SExtractor</em> in dual
image mode with detections from the detection image and photometry
from the filter image.  Here <tt class="docutils literal"><span class="pre">&lt;filt&gt;</span></tt> is the filter name in lower
case.  The <tt class="docutils literal"><span class="pre">.old.cat</span></tt> version of the file is the <em>SExtractor</em>
catalog before being modified by <em>Apsis</em>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">multicolor.cat</tt></dt>
<dd>ASCII file listing the final integrated photometry (magnitude and
error) of each object in each filter, corrected for extinction and
aperture size.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">multicolor.columns</tt></dt>
<dd>Description of the columns in <tt class="docutils literal"><span class="pre">multicolor.cat</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;filterDescription&gt;_photometry.xml</tt></dt>
<dd>The &#8220;_BPZ&#8221; photometry that is listed in the <tt class="docutils literal"><span class="pre">multicolor.cat</span></tt> file
is here marked up in XML.  There is one of these files for each
filter in the association.  Here <tt class="docutils literal"><span class="pre">&lt;filterDescription&gt;</span></tt> string is of
the format <tt class="docutils literal"><span class="pre">HST_ACS_&lt;CAMERA&gt;_&lt;FILT&gt;_photometry.xml</span></tt>, an example is
<tt class="docutils literal"><span class="pre">HST_ACS_WFC_F625W_photometry.xml</span></tt>.</dd></dl>

</div>
<div class="section" id="images">
<h4>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h4>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/Images</span></tt>.</p>
<p>This directory holds the simple FITS format image output from <em>Apsis</em>
(<tt class="docutils literal"><span class="pre">.fits</span></tt> suffix), files holding XML marked up versions of
their headers (<tt class="docutils literal"><span class="pre">_fits.xml</span></tt> suffix) and a variety of associated files.</p>
<p>In the following <tt class="docutils literal"><span class="pre">&lt;dataset&gt;</span></tt> is the dataset name, <tt class="docutils literal"><span class="pre">&lt;filt&gt;</span></tt> is the
filter name in lowercase, <tt class="docutils literal"><span class="pre">&lt;FILT&gt;</span></tt> is the filter name in uppercase,
<tt class="docutils literal"><span class="pre">&lt;infile&gt;</span></tt> is the base name of an input file excluding the <tt class="docutils literal"><span class="pre">.fits</span></tt>
suffix (e.g. for an input image <tt class="docutils literal"><span class="pre">j90v01ayq_flt.fits</span></tt> then <tt class="docutils literal"><span class="pre">&lt;infile&gt;</span> <span class="pre">=</span>
<span class="pre">j90v01ayq_flt</span></tt>).</p>
<p><em>Detection image and related products</em></p>
<dl class="cmdoption">
<dt>
<tt class="descname">detectionImage.fits (_fits.xml)</tt></dt>
<dd>The output detection image made by summing the filter images and
weighting by the inverse variance.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">detectionWeight.fits (_fits.xml)</tt></dt>
<dd>The weight image corresponding to the detection Image.  This is a
MAP_WEIGHT type weight image in <em>SExtractor</em> parlance.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">detectionImage_APER.fits (_fits.xml)</tt></dt>
<dd>Output aperture image from <em>SExtractor</em>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">detectionImage_SEGM.fits (_fits.xml)</tt></dt>
<dd><em>SExtractor</em> segmentation image - the pixel value gives the object identification
in the output catalog <tt class="docutils literal"><span class="pre">detectionImage.cat</span></tt> (see <a class="reference external" href="Catalogs">Catalogs directory</a>).</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">Edgemask.fits</tt></dt>
<dd>what&#8217;s this file is for??</dd></dl>

<p><em>Filter images and related products</em></p>
<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_drz_sci.fits (_fits.xml)</tt></dt>
<dd>The filter images, one for each filter used in the dataset.  Pixel
values are given as electrons (the count rate in electron/s
multiplied by the EXPTIME in the header).</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_drz_sci_weight.fits (_fits.xml)</tt></dt>
<dd>The weight image corresponding to each filter image.  This is a
MAP_WEIGHT type weight image in <em>SExtractor</em> parlance.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_drz_sci_context.fits (_fits.xml)</tt></dt>
<dd>The &#8220;context&#8221; image produced for each filter image during the drizzle
process.  This is a bitmask image where the pixel value encodes which
input images were used to create that pixel. More information on
context images can be found in the
<a class="reference external" href="http://stsdas.stsci.edu/cgi-bin/gethelp.cgi?drizzle">drizzle documentation</a>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_drz_sci_BACK.fits (_fits.xml)</tt></dt>
<dd>Background image for each filter, created by <em>SExtractor</em> during the
cataloging stage.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_RMS.fits (_fits.xml)</tt></dt>
<dd>The error in the pixel values of each filter image.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_FLAG.fits (_fits.xml)</tt></dt>
<dd>Binary bad pixel mask that marks each pixel of the filter images as either
bad (1) or good (0).</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">medriz_&lt;n&gt;.fits</tt></dt>
<dd>The median combined version of each filter image, used in the cosmic
ray rejection process.  Here <tt class="docutils literal"><span class="pre">&lt;n&gt;</span></tt> refers to the order in which the
filters are processed.  The correspondence with the filters used can
be determined by looking at the image headers.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;FILT&gt;_asn.fits</tt></dt>
<dd>This is a copy of the association table used to make each filter
image.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;dataset&gt;_&lt;filt&gt;_augmask.fits (_fits.xml)</tt></dt>
<dd>What are these files for??</dd></dl>

<p><em>Products of each input image</em></p>
<p>Here <tt class="docutils literal"><span class="pre">&lt;n&gt;</span></tt> is 1 or 2 and refers to the science extension in the
original multiextension fits image.  For WFC images <tt class="docutils literal"><span class="pre">&lt;n&gt;</span></tt> = 1 or 2; for
HRC (and SBC) images <tt class="docutils literal"><span class="pre">&lt;n&gt;</span></tt> = 1 (always).</p>
<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_SCI_&lt;n&gt;.fits</tt></dt>
<dd>Science extension <tt class="docutils literal"><span class="pre">&lt;n&gt;</span></tt> of <tt class="docutils literal"><span class="pre">&lt;infile&gt;.fits</span></tt> broken out into a simple fits image.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_SCI_&lt;n&gt;_cr.fits</tt></dt>
<dd>Binary good pixel mask indicating cosmic rays found in the individual
frames found when creating the filter images.  These files mark
cosmic rays 0 and good pixels 1.</dd></dl>

<p><em>Temporary files</em></p>
<p>These are deleted unless the option <tt class="docutils literal"><span class="pre">--noclean</span></tt> is used. Here
<tt class="docutils literal"><span class="pre">&lt;n&gt;</span></tt> is 1 or 2 and refers to the science extension in the original
multiextension fits image.</p>
<dl class="cmdoption">
<dt>
<tt class="descname">_cx_&lt;infile&gt;_SCI_&lt;n&gt;.fits</tt></dt>
<dd>The context image for each input image.  This is a binary good pixel
bitmask that marks pixels in the output frame where the corresponding
simple fits image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt> contributes with 1, with
the remaining unused pixels marked 0.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">_wt_&lt;infile&gt;_SCI_&lt;n&gt;.fits</tt></dt>
<dd>The weight image for each input image. This indicates the
contribution to the output weight from the corresponding simple fits
image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">Orig_&lt;infile&gt;_inmask&lt;n&gt;.fits</tt></dt>
<dd>Original binary good pixel bitmask in the pixel grid of the
corresponding simple fits image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>. Note that
not all the pixels marked bad here (pixel value = 0) are considered
bad when creating the corresponding <tt class="docutils literal"><span class="pre">_cx_&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_inmask&lt;n&gt;.fits</tt></dt>
<dd>Binary good pixel bitmask in the pixel grid of the
corresponding simple fits image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>. What is the difference between the different inmask
files??</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_SCI_&lt;n&gt;_bl.fits</tt></dt>
<dd>The median drizzled filter image &#8220;blotted&#8221; back to the pixel grid of
the corresponding input simple fits image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_SCI_&lt;n&gt;_bl_deriv.fits</tt></dt>
<dd>Estimate of the local image &#8220;derivative&#8221;, derived from the median
drizzled filter image, in the pixel grid of
the corresponding input simple fits image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_SCI_&lt;n&gt;_cr.pl</tt></dt>
<dd>Like the <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;_cr.fits</span></tt> files but in pixel list format.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;_coeffs&lt;n&gt;.dat</tt></dt>
<dd>The polynomial distortion coefficients extracted from the adopted IDC
table corresponding to the simple fits image <tt class="docutils literal"><span class="pre">&lt;infile&gt;_SCI_&lt;n&gt;.fits</span></tt>.</dd></dl>

<p><em>Files created for internal use by Apsis</em></p>
<p>These include <tt class="docutils literal"><span class="pre">A</span></tt>, <tt class="docutils literal"><span class="pre">B</span></tt>, (and other single capital letter variants),
<tt class="docutils literal"><span class="pre">medianfilter_input</span></tt> and <tt class="docutils literal"><span class="pre">medianimages</span></tt>.</p>
</div>
<div class="section" id="messages">
<h4>Messages<a class="headerlink" href="#messages" title="Permalink to this headline">¶</a></h4>
<p id="id1">Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/Messages</span></tt>.</p>
<p>The files in this directory are named <tt class="docutils literal"><span class="pre">&lt;modnam&gt;_module.xml</span></tt>, where
<tt class="docutils literal"><span class="pre">&lt;modnam&gt;</span></tt> is the name of the <em>Apsis</em> modules that were run on this
dataset (see <tt class="docutils literal"><span class="pre">modules</span> <span class="pre">&lt;modules.html&gt;</span></tt>).  Each XML file documents</p>
<blockquote>
<ul class="simple">
<li>the module name, version, and dataset name.</li>
<li>the dependencies (packages) used, their version, and command line
call.</li>
<li>input files, and their various attributes</li>
<li>output files, and their various attributes (including predecessor
files).</li>
<li>error messages</li>
</ul>
</blockquote>
</div>
<div class="section" id="picklejar">
<h4>Picklejar<a class="headerlink" href="#picklejar" title="Permalink to this headline">¶</a></h4>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/Picklejar</span></tt>.</p>
<p>This directory contains python objects that are converted to a string
representation called a &#8220;pickle&#8221; and saved to a file.  Since pickles are
storred in jars these files are referred to as pickle jars.  There is
one pickle jar describing the dataset, named <tt class="docutils literal"><span class="pre">obs</span></tt>, with the remaining
files corresponding to each module that was run.</p>
</div>
<div class="section" id="align">
<h4>align<a class="headerlink" href="#align" title="Permalink to this headline">¶</a></h4>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/align</span></tt>.</p>
<p>This directory contains files used in the image alignment process. Here
<tt class="docutils literal"><span class="pre">&lt;infile&gt;</span></tt> refers to one of the input (flt) files; an example is
<tt class="docutils literal"><span class="pre">j9c401kxq_flt</span></tt>.</p>
<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;.matchin</tt></dt>
<dd>Catalog of each input fits file created by <em>SExtractor</em> and then
transformed to the first guess output coordinate grid.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;.matchin.stars</tt></dt>
<dd>The essential data from <tt class="docutils literal"><span class="pre">&lt;infile&gt;.matchin</span></tt> pared down to only
bright compact sources that can be used in the alignment.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;.matchin.intrans</tt></dt>
<dd>Describes the first guess transformation required to align
<tt class="docutils literal"><span class="pre">&lt;infile&gt;</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">&lt;infile&gt;.matchin.super</tt></dt>
<dd>What does this file do??</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">shifts_&lt;dataset&gt;_&lt;FILT&gt;.txt</tt></dt>
<dd>Gives the estimated x, y, and rotation shifts and their errors of the
input files sorted by filter <tt class="docutils literal"><span class="pre">&lt;FILT&gt;</span></tt>.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">supermatch.in</tt></dt>
<dd>Input file for supermatch.</dd></dl>

<dl class="cmdoption">
<dt>
<tt class="descname">supermatch.out</tt></dt>
<dd>Output from supermatch.  This gives the final x, y, and rotation shifts.</dd></dl>

</div>
<div class="section" id="astrom">
<h4>astrom<a class="headerlink" href="#astrom" title="Permalink to this headline">¶</a></h4>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/astrom</span></tt>.</p>
<p>This directory contains files used in aligning the images to the guide
star catalog reference frame.  These include results from a web query to
the GSC, <em>SExtractor</em> generated catalogs of the filter images, products
derived from these catalogs, and results of matching the GSC to the
filter images.</p>
<p>Detailed description TBD.</p>
</div>
<div class="section" id="par">
<h4>par<a class="headerlink" href="#par" title="Permalink to this headline">¶</a></h4>
<p>Path: <tt class="docutils literal"><span class="pre">&lt;dataset&gt;/par</span></tt>.</p>
<p>This directory contains the <em>SExtractor</em> configuration files for the
various <em>SExtractor</em> runs done by <em>Apsis</em>.  The <tt class="docutils literal"><span class="pre">*.inpar</span></tt> files set
the parameters used by <em>SExtractor</em> while the <tt class="docutils literal"><span class="pre">*.param</span></tt> files dictate
which <em>SExtractor</em> measurements will be written to the output catalogs.</p>
<p>Detailed description TBD.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Running Apsis</a><ul>
<li><a class="reference external" href="#quickstart">Quickstart</a></li>
<li><a class="reference external" href="#command-line-options">Command line options</a></li>
<li><a class="reference external" href="#output-directory-structure-and-files">Output directory structure and files</a><ul>
<li><a class="reference external" href="#main-directory">Main directory</a><ul>
<li><a class="reference external" href="#catalogs">Catalogs</a></li>
<li><a class="reference external" href="#images">Images</a></li>
<li><a class="reference external" href="#messages">Messages</a></li>
<li><a class="reference external" href="#picklejar">Picklejar</a></li>
<li><a class="reference external" href="#align">align</a></li>
<li><a class="reference external" href="#astrom">astrom</a></li>
<li><a class="reference external" href="#par">par</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="prelims.html"
                                  title="previous chapter">Preliminary steps</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="modules.html"
                                  title="next chapter">Modules</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/running.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             >next</a> |</li>
        <li class="right" >
          <a href="prelims.html" title="Preliminary steps"
             >previous</a> |</li>
        <li><a href="index.html">Apsis v4.2.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Ken Anderson, John Blakeslee, Rychard Bouwens, Dan Magee, Gerhardt Meurer.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>